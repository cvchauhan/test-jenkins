<p-toast [baseZIndex]="100000"></p-toast>


<p-confirmDialog key="positionDialog" [position]="position"></p-confirmDialog>
<p-confirmDialog [style]="{width: '30vw'}" [baseZIndex]="10000"></p-confirmDialog>

<div class="dashboard">
    <!-- <div class="item">
        <p-tabView>
            <p-tabPanel header="Stock In Hand">
                <p-table [value]="itemstockinhandlist" [autoLayout]="true">
                    <ng-template pTemplate="caption">
                        <div class="p-grid">
                            <div class="p-col-9 p-md-5">
                                <div class="search">
                                    <input placeholder="Search" id="search" type="text" pInputText>
                                    <button pButton type="button" icon="pi pi-search" iconPos="left"></button>
                                </div>

                            </div>

                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th>SNo</th>
                            <th>Category</th>
                            <th>Sub Category</th>
                            <th>Item</th>
                            <th>Unit</th>
                            <th>Quantity in Hand</th>
                            <th>Action</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr>

                            <td>{{item.SNo}}</td>
                            <td>{{item.Category}}</td>
                            <td>{{item['Sub Category']}}</td>
                            <td>{{item.Item}}</td>
                            <td>{{item.Unit}}</td>
                            <td>{{item['Quantity In Hand']}}</td>
                            <td>
                                <p-button icon="pi pi-pencil" class="p-button-raised"></p-button>
                                <p-button icon="pi pi-trash" class="p-button-raised p-button-danger p-ml-2"></p-button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </p-tabPanel>
            <p-tabPanel header="Stock In">

                <p-table [value]="itemstockinlist" [autoLayout]="true">
                    <ng-template pTemplate="caption">
                        <div class="p-grid">
                            <div class="p-col-9 p-md-5">
                                <div class="search">
                                    <input placeholder="Search" id="search" type="text" pInputText>
                                    <button pButton type="button" icon="pi pi-search" iconPos="left"></button>
                                </div>

                            </div>
                            <div class="p-col-3 p-md-7 p-text-right">
                                <button pButton type="button" class="p-ml-2" icon="pi pi-shopping-cart" iconPos="left" (click)="openAddStockIn()"></button>
                            </div>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th>SNo</th>
                            <th>Date</th>
                            <th>Challan Number</th>
                            <th>Supplier</th>
                            <th>Phone</th>
                            <th>Quantity in Hand</th>
                            <th>Action</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr>

                            <td>{{item.SNo}}</td>
                            <td>{{item.Date}}</td>
                            <td>{{item['Challan Number']}}</td>
                            <td>{{item.Supplier}}</td>
                            <td>{{item.Phone}}</td>
                            <td>{{item['Quantity']}}</td>
                            <td>
                                <p-button icon="pi pi-pencil" class="p-button-raised"></p-button>
                                <p-button icon="pi pi-trash" class="p-button-raised p-button-danger p-ml-2"></p-button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </p-tabPanel>
            <p-tabPanel header="Stock Items">
                <p-table [value]="stockItemTableRes" [autoLayout]="true" [paginator]="true" [rows]="rows"
                    [showCurrentPageReport]="true" [(first)]="first"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [rowsPerPageOptions]="[10,20,40,80,120]">
                    <ng-template pTemplate="caption">
                        <div class="p-grid">
                            <div class="p-col-9 p-md-5">
                                <div class="search">
                                    <input [(ngModel)]="searchBox" placeholder="Search" id="search" type="text"
                                        pInputText>
                                    <button (click)="searchStockItemTableList()" pButton type="button" icon="pi pi-search"
                                        iconPos="left"></button>
                                </div>
                            </div>
                            <div class="p-col-3 p-md-7 p-text-right">
                                <button pButton type="button" icon="pi pi-plus" iconPos="left"
                                (click)="itemStockPopupF()"></button>

                            </div>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th>SNo</th>
                            <th>Items</th>
                            <th>Units</th>
                            <th>Category</th>
                            <th>Prefix</th>
                            <th>Action</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-stockItemData let-i="rowIndex">
                        <tr>
                            <td>{{i+1}}</td>
                            <td>{{stockItemData.cItemNm}}</td>
                            <td>{{stockItemData.unit}}</td>
                            <td>{{stockItemData.itmCtg}}</td>
                            <td>{{stockItemData.cPrefix}}</td>
                            <td>
                                <p-button (click)="itemStockPopupF();editItemStock(stockItemData.nItemid)" icon="pi pi-pencil" class="p-button-raised"></p-button>
                                <p-button (click)="deleteStockItemF(stockItemData.nItemid)" icon="pi pi-trash"
                                    class="p-button-raised p-button-danger p-ml-2"></p-button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </p-tabPanel>
        </p-tabView>
    </div> -->
    <div class="p-grid">
        <div class="p-col-4">
            <form [formGroup]="stockItemForm" (ngSubmit)="addStockItem(stockItemForm.value)">
                <div class="p-grid p-nogutter grid-gutter">
                    <div class="p-col-12 p-md-4"><label for="">Stock Category<sup>*</sup></label></div>
                    <div class="p-col-12 p-md-8">
                        <p-dropdown id="ddlStockCatageory" formControlName="nItmCtgid" [options]="stockCategoriesData"
                            optionLabel="codeName" placeholder="Select Categories">
                        </p-dropdown>
                        <small class="p-error"
                            *ngIf="stockFormControl.nItmCtgid.invalid && (stockFormControl.nItmCtgid.dirty || stockFormControl.nItmCtgid.touched)">Stock
                            Category is required.</small>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Item Group</label></div>
                    <div class="p-col-12 p-md-8">
                        <p-multiSelect [options]="itemGroupData" optionLabel="cItemNm" formControlName="itemGroup" placeholder="Select Group" optionValue="nItemid"></p-multiSelect>
                        <!-- <p-multiSelect formControlName="itemGroup" [options]="itemGroupData" optionLabel="cItemNm"
                            maxSelectedLabels="1" defaultLabel="Select Group" [ngModelOptions]="{standalone: true}"
                            styleClass="multiselect-mobileregulation-width">
                        </p-multiSelect> -->
                        <!-- <p-dropdown formControlName="itemGroup" [options]="itemGroupData" optionLabel="cItemNm" placeholder="Select Group">
                        </p-dropdown> -->
                        <small class="p-error"
                            *ngIf="stockFormControl.itemGroup.invalid && (stockFormControl.itemGroup.dirty || stockFormControl.itemGroup.touched)">Stock
                            Item Group is required.</small>

                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Group Min Qty</label></div>
                    <div class="p-col-12 p-md-8">
                        <input type="text" formControlName="itemQty" pInputText>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Service Skills</label></div>
                    <div class="p-col-12 p-md-8">
                        <p-multiSelect formControlName="cSrvSkill" [options]="sSkills" optionLabel="codeName"
                             defaultLabel="SELECT" [ngModelOptions]="{standalone: true}"
                            styleClass="multiselect-mobileregulation-width">
                        </p-multiSelect>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Item<sup>*</sup></label></div>
                    <div class="p-col-12 p-md-8">
                        <input type="text" formControlName="cItemNm" pInputText placeholder="Item" />
                        <small class="p-error"
                            *ngIf="stockFormControl.cItemNm.invalid && (stockFormControl.cItemNm.dirty || stockFormControl.cItemNm.touched)">Item
                            is required.</small>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Prefix</label></div>
                    <div class="p-col-12 p-md-8">
                        <input type="text" formControlName="cPrefix" pInputText placeholder="Prefix" />
                        <small class="p-error"
                            *ngIf="stockFormControl.cPrefix.invalid && (stockFormControl.cPrefix.dirty || stockFormControl.cPrefix.touched)">Prefix
                            is required.</small>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Units<sup>*</sup></label></div>
                    <div class="p-col-12 p-md-8">
                        <p-dropdown id="ddlUnit" formControlName="nUnit" [options]="stockUnitData"
                            optionLabel="codeName" placeholder="Select Units"></p-dropdown>
                        <small class="p-error"
                            *ngIf="stockFormControl.nUnit.invalid && (stockFormControl.nUnit.dirty || stockFormControl.nUnit.touched)">Units
                            is required.</small>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Serialized<sup>*</sup></label></div>
                    <div class="p-col-12 p-md-8">
                        <p-dropdown id="ddlSerialized" formControlName="cSrlzd" [options]="serializedArr"
                            optionLabel="name" placeholder="Select Serialized"></p-dropdown>
                        <small class="p-error"
                            *ngIf="stockFormControl.cSrlzd.invalid && (stockFormControl.cSrlzd.dirty || stockFormControl.cSrlzd.touched)">Serialized
                            is required.</small>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Installation Required</label></div>
                    <div class="p-col-12 p-md-8">
                        <p-dropdown formControlName="install" [options]="Installation" optionLabel="name"
                            placeholder="Select Installation"></p-dropdown>
                        <small class="p-error"
                            *ngIf="stockFormControl.install.invalid && (stockFormControl.install.dirty || stockFormControl.install.touched)">Installation
                            is required.</small>
                    </div>
                    <div class="p-col-12 p-md-4"><label for="">Consumable</label></div>
                    <div class="p-col-12 p-md-8">
                        <p-dropdown formControlName="consume" [options]="consumable" optionLabel="name"
                            placeholder="Select Consumable"></p-dropdown>
                        <small class="p-error"
                            *ngIf="stockFormControl.consume.invalid && (stockFormControl.consume.dirty || stockFormControl.consume.touched)">Consumable
                            is required.</small>
                    </div>
                    <div class="p-md-8 p-md-offset-4 p-pl-0">
                        <button type="submit" [disabled]="stockItemForm.invalid" label="{{editButton?
                            'Update':'Save'}}" pButton></button>
                    </div>
                </div>

            </form>

        </div>
        <div class="p-col-8">
            <p-table #managestock [value]="stockItemTableRes"
                [globalFilterFields]="['cItemNm','unit','itmCtg','cPrefix']" [autoLayout]="true" [paginator]="true"
                [rows]="rows" [showCurrentPageReport]="true" [(first)]="first"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [rowsPerPageOptions]="[10,20,40,80,120]" [scrollable]="true" scrollHeight="400px">
                <ng-template pTemplate="caption">
                    <div class="p-grid p-jc-end">
                        <div class="p-col-12 p-md-5">
                            <div class="search">
                                <input placeholder="Search" id="search"
                                    (input)="managestock.filterGlobal($event.target.value,'contains')" type="text"
                                    pInputText>
                                <button (click)="searchStockItemTableList()" pButton type="button" icon="pi pi-search"
                                    iconPos="left"></button>
                            </div>
                        </div>
                        <div class="p-col-3 p-md-7 p-text-left">
                            <button pButton type="button" icon="pi pi-plus" iconPos="right"
                                (click)="itemStockPopupF()"></button>
                        </div>
                    </div>
                </ng-template>
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th [ngStyle]="{'width':'30px'}">&nbsp;</th>
                        <!-- <th>SNo</th> -->
                        <th [ngStyle]="{'width':'150px'}" pSortableColumn="cItemNm">Items<p-sortIcon field="cItemNm">
                            </p-sortIcon>
                        </th>
                        <th [ngStyle]="{'width':'100px'}" pSortableColumn="itmCtg">Category<p-sortIcon field="itmCtg">
                            </p-sortIcon>
                        </th>
                        <th [ngStyle]="{'width':'50px'}" pSortableColumn="unit">Units<p-sortIcon field="unit">
                            </p-sortIcon>
                        </th>
                        <th [ngStyle]="{'width':'150px'}" pSortableColumn="cItemNm">Item Group<p-sortIcon
                                field="cItemNm"></p-sortIcon>
                        </th>
                        <th pSortableColumn="cSrlzd">Serialized<p-sortIcon field="cSrlzd"></p-sortIcon>
                        </th>
                        <th pSortableColumn="cInstallation">Inst Reqd.<p-sortIcon field="cInstallation"></p-sortIcon>
                        </th>
                        <th pSortableColumn="cIsConsumable">Con.<p-sortIcon field="cIsConsumable"></p-sortIcon>
                        </th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-stockItemData let-i="rowIndex">
                    <tr>
                        <td [ngStyle]="{'width':'30px'}">
                            <p-radioButton name="groupname" [(ngModel)]="selectedValue"
                                value="{{stockItemData?.nItemid}}" (onClick)="onItemChange(stockItemData)">
                            </p-radioButton>
                        </td>
                        <!-- <td>{{i+1}}</td> -->
                        <td class="break-word" [ngStyle]="{'width':'150px'}">{{stockItemData.cItemNm}}</td>
                        <td class="break-word" [ngStyle]="{'width':'100px'}">{{stockItemData.itmCtg}}</td>
                        <td class="break-word" [ngStyle]="{'width':'50px'}">{{stockItemData.unit}}</td>
                        <td class="break-word" [ngStyle]="{'width':'150px'}">{{stockItemData.cItemParentNm}}</td>
                        <td class="break-word">{{stockItemData.cSrlzd}}</td>
                        <td class="break-word">{{stockItemData.cInstallation}}</td>
                        <td class="break-word">{{stockItemData.cIsConsumable}}</td>
                        <td>
                            <p-button (click)="itemStockPopupF();editItemStock(stockItemData.nItemid)"
                                icon="pi pi-pencil" class="p-button-raised"></p-button>
                            <p-button (click)="deleteStockItemF(stockItemData.nItemid)" icon="pi pi-trash"
                                class="p-button-raised p-button-danger p-ml-2"></p-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <button type="button" [disabled]="!selectedValue" (click)="itemStockPricingPopupF()" label="Pricing"
                pButton></button>
            <!-- <button type="button" (click)="taxDetailPopupF()" label="Tax Detail" class="template p-ml-2"
                pButton></button> -->
        </div>
    </div>
</div>

<p-dialog header="Add Pricing - {{itemName}}" [(visible)]="priceinDialog" [modal]="true" (onHide)="onclosePriceDialog()"
    [style]="{width: '70vw'}" [baseZIndex]="10000">
    <div class="p-grid">
        <div class="p-col-12 p-md-12">
            <form [formGroup]="addPriceForm" (ngSubmit)="onAddPrice()">
                <div class="p-grid">
                    <div class="p-col-12 p-md-6">
                        <div class="p-grid p-nogutter">
                            <div class="p-col-12 p-md-4"><label for="date">Date Of Effect</label></div>
                            <div class="p-col-12 p-md-8">
                                <p-calendar placeholder="Select date" [showIcon]="true" dateFormat="dd-mm-yy"   formControlName="dEffectDt">
                                </p-calendar>
                            </div>
                            <!-- <input type="hidden" formCOntrolName="nItemid"> -->
                        </div>
                    </div>
                    <div class="p-col-12 p-md-6">
                        <div class="p-grid p-nogutter">
                            <div class="p-col-12 p-md-4"><label for="pnumber">Branch</label></div>
                            <div class="p-col-12 p-md-8">
                                <p-multiSelect placeholder="SELECT" [options]="branchData" optionLabel="txt"
                                    optionValue="val" formControlName="multiBranch"></p-multiSelect>
                            </div>
                        </div>
                    </div>
                    <div class="p-col-12 p-md-6">
                        <div class="p-grid p-nogutter">
                            <div class="p-col-12 p-md-4"><label for="ddlInvoiceType">Sale MRP</label></div>
                            <div class="p-col-12 p-md-8">
                                <div class="p-grid">
                                    <div class="p-col-12 p-md-4"><input type="text" pInputText
                                            formControlName="nSale" /></div>
                                    <div class="p-col-12 p-md-8">
                                        <p-dropdown appendTo="body" id="ddlInvoiceType" placeholder="Select"
                                            [options]="SaleMrp" optionLabel="codeName" optionValue="serialNo"
                                            formControlName="nSaleUnit">
                                        </p-dropdown>
                                        <!-- <small class="p-error" *ngIf="submitted">Invoice Type is required.</small> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-col-12 p-md-6">
                        <div class="p-grid p-nogutter">
                            <div class="p-col-12 p-md-4"><label for="ddlSupplier">Rental MRP</label></div>
                            <div class="p-col-12 p-md-8">
                                <div class="p-grid">
                                    <div class="p-col-12 p-md-4"><input type="text" pInputText
                                            formControlName="nRent" /></div>
                                    <div class="p-col-12 p-md-8">
                                        <p-dropdown appendTo="body" id="ddlSupplier" placeholder="Select"
                                            [options]="rental" optionLabel="codeName" optionValue="serialNo"
                                            formControlName="nRentUnit">
                                        </p-dropdown>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-col-12 p-md-6">
                        <div class="p-grid p-nogutter">
                            <div class="p-col-12 p-md-4"><label for="SecurityDepost">Security Deposit</label></div>
                            <div class="p-col-12 p-md-8">
                                <input id="SecurityDepost" type="text" formControlName="nSecurityAmt" pInputText />
                            </div>
                        </div>
                    </div>

                    <div class="p-col-12 p-md-6 mrpError" *ngIf="showMRPError">
                        <span> Either Sale MRP or Rental MRP is required</span>
                    </div>

                    <div class="p-col-1 p-md-1">
                        <div class="p-grid p-nogutter">
                            <p-button label="{{isEditPrice ? 'Update': 'Add'}}" type="submit" class="p-button-text">
                            </p-button>

                        </div>
                    </div>
                    <div class="p-col-1 p-md-1 p-text-left">
                        <button pButton type="button" icon="pi pi-plus" iconPos="right"
                            (click)="ClearItemPrice();"></button>
                    </div>
                </div>
            </form>
        </div>


        <div class="p-col-12 p-md-12">
            <p-table [value]="substockitemlist" [autoLayout]="true" [scrollable]="true" scrollHeight="80px">
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th>SNo</th>
                        <th>Date Of Effect</th>
                        <th>Sale MRP</th>
                        <th>Units</th>
                        <th>Rent MRP</th>
                        <th>Units</th>
                        <th>Security Deposit</th>
                        <th>App Branch(es)</th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-subitem let-i="rowIndex">
                    <tr>
                        <td>{{i+1}}</td>
                        <td>{{subitem?.dEffectDt | dateFormat}}</td>
                        <td>{{subitem?.nSale}}</td>
                        <td>{{subitem?.saleUnit}}</td>
                        <td>{{subitem?.nRent}}</td>
                        <td>{{subitem.rentUnit}}</td>
                        <td>{{subitem?.nSecurityAmt}}</td>
                        <td>{{subitem?.branch}}</td>
                        <td>
                            <p-button icon="pi pi-pencil" class="p-button-raised editIcon"
                                (click)="editPrice(i,subitem)"></p-button>
                            <p-button icon="pi pi-trash" class="p-button-raised p-button-danger p-ml-2"
                                (click)="delPriceItem(subitem.nPriceid)"></p-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
    <!-- <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="savestockinDialog()" label="Save" class="p-button-text"></p-button>
    </ng-template> -->
</p-dialog>

<!-- Add tax detail list  -->
<p-dialog class="manage-ledger" header="Tax Details - # Items" [(visible)]="displayTaxDetail" [modal]="true"
    [style]="{width: '55vw'}" [baseZIndex]="10000" [maximizable]="true" [baseZIndex]="10000" [draggable]="false"
    [resizable]="false">
    <form [formGroup]="taxDetailForm" (ngSubmit)="onSubmit()">
        <div class="p-grid p-nogutter">

            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter grid-gutter">
                    <label class="p-md-5" for="">Effect Date </label>
                    <div class="p-md-7 p-pl-1">
                        <p-calendar formControlName="dEffectDt" dateFormat="dd-mm-yy"></p-calendar>
                    </div>
                </div>
            </div>
            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter grid-gutter">
                    <label class="p-md-5" for="">Tax Class</label>
                    <div class="p-md-7">
                        <input type="text" formControlName="nTaxClass" pInputText />
                    </div>
                </div>
            </div>

            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter">
                    <label class="p-md-5">Sale Mode</label>
                    <div class="p-md-7">
                        <p-dropdown appendTo="body" formControlName="cSalesMode" placeholder="Sale Mode"
                            [options]="salesModes" optionLabel="name" optionValue="value"></p-dropdown>
                    </div>

                </div>
            </div>

            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter grid-gutter">
                    <label class="p-md-5" for="middle">HSN</label>
                    <div class="p-md-7">
                        <input type="text" formControlName="cHsn" pInputText />
                    </div>
                </div>
            </div>
            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter">
                    <label class="p-md-5">Tax Type</label>
                    <div class="p-md-7">
                        <p-dropdown appendTo="body" formControlName="nTaxType" placeholder="Tax Type"
                            [options]="taxTypeData" optionLabel="codeName" optionValue="serialNo"></p-dropdown>
                    </div>

                </div>
            </div>



            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter grid-gutter">
                    <label class="p-md-5" for="middle">Tax Rate</label>
                    <div class="p-md-7">
                        <input type="text" formControlName="nTaxRate" pInputText />
                    </div>
                </div>
            </div>
            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter grid-gutter">
                    <label class="p-md-5" for="middle">Input Ledger</label>
                    <div class="p-md-7">
                        <input type="text" formControlName="cInputAccCode" pInputText />
                    </div>
                </div>
            </div>
            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter grid-gutter">
                    <label class="p-md-5" for="middle">Output Ledger</label>
                    <div class="p-md-7">
                        <input type="text" formControlName="cOutputAccCode" pInputText />
                    </div>
                </div>
            </div>

            <div class="p-col-12 p-md-6">
                <div class="p-grid p-nogutter">
                    <div class="p-col-12 p-md-7 p-md-offset-5 p-pl-2 text-left">
                        <p-button type="submit" label="Save" class="p-button-text"></p-button>
                    </div>
                </div>
            </div>


        </div>
    </form>
    <div class="p-grid p-nogutter">
        <div class="p-md-12">
            <p-table [value]="taxDetailList" [scrollable]="true" scrollHeight="350px">
                <!-- <ng-template pTemplate="caption">
                    <div class="p-d-flex p-ai-center p-jc-between">
                        <div class="p-col-9 p-md-6">
                            <div class="search">
                                <input placeholder="Search" id="search" type="text" pInputText>
                                <button pButton type="button" icon="pi pi-search" iconPos="left"></button>
                            </div>

                        </div>
                        <div class="p-col-3 p-md-2 p-text-right">
                            <button pButton type="button" icon="pi pi-plus" iconPos="left"
                                (click)="addTaxDetail()"></button>
                        </div>
                    </div>
                </ng-template> -->
                <ng-template pTemplate="header">
                    <tr>
                        <th>SNo</th>
                        <th>Effect Date</th>
                        <th>HSN</th>
                        <th>Sales Mode</th>
                        <th>Tax Class</th>
                        <th>Tax Type</th>
                        <th>Tax Rate</th>
                        <th>Input Ledger</th>
                        <th>Output Ledger</th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-tax let-i="rowIndex">
                    <tr>
                        <td>
                            {{i+1}}

                        </td>
                        <td>{{tax.dEffectDt | dateFormat}}</td>
                        <td>{{tax.cHsn}}</td>
                        <td>{{tax.cSalesMode}}</td>
                        <td>{{tax.nTaxClass}}</td>
                        <td>{{tax.nTaxType}}</td>
                        <td>{{tax.nTaxRate}}</td>
                        <td>{{tax.cInputAccCode}}</td>
                        <td>{{tax.cOutputAccCode}}</td>
                        <td>
                            <p-button icon="pi pi-pencil" (click)="editDetails(tax)" class="p-button-raised"></p-button>
                            <p-button icon="pi pi-trash" (click)="delTax(tax.nTaxid)"
                                class="p-button-raised p-button-danger p-ml-2"></p-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
    <!-- <ng-template pTemplate="footer">
    <p-button type="submit" (click)="displayBasic=false" label="Save" class="p-button-text"></p-button>
  </ng-template> -->
</p-dialog>